import{j as e,r,K as w,M as g}from"./index-DBncHmhw.js";const j=({size:a="60",stroke:s="#FFFFFF"})=>e.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",width:a,height:a,fill:s,viewBox:"0 0 24 24",children:e.jsx("path",{d:"M4 5a1 1 0 0 0 1 1h16a1 1 0 0 1 1 1v14a1 1 0 0 1-1 1h-5a1 1 0 0 1 0-2h4V8H5a2.966 2.966 0 0 1-1-.184V19a1 1 0 0 0 1 1h5a1 1 0 0 0 1-1v-4.586l-1.293 1.293a1 1 0 0 1-1.414-1.414l3-3a.99.99 0 0 1 .326-.217 1 1 0 0 1 .764 0 .99.99 0 0 1 .326.217l3 3a1 1 0 0 1-1.414 1.414L13 14.414V19a3 3 0 0 1-3 3H5a3 3 0 0 1-3-3V5a3 3 0 0 1 3-3h16a1 1 0 0 1 0 2H5a1 1 0 0 0-1 1Z"})}),v=({size:a="60",stroke:s="#1C274C"})=>e.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",width:a,height:a,fill:"none",viewBox:"0 0 24 24",children:e.jsx("g",{stroke:s,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:1.5,children:e.jsx("path",{d:"M9.5 4 4 10h10m6 0h-2.5M14.5 20l5.5-6H10m-6 0h2.5"})})}),b=({size:a="60",stroke:s="#1C274C"})=>e.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",width:a,height:a,fill:"none",viewBox:"0 0 24 24",children:e.jsxs("g",{fill:s,children:[e.jsx("path",{fillRule:"evenodd",d:"M23 4a3 3 0 0 0-3-3H4a3 3 0 0 0-3 3v10a3 3 0 0 0 3 3h1a1 1 0 1 0 0-2H4a1 1 0 0 1-1-1V8h18v6a1 1 0 0 1-1 1h-1a1 1 0 1 0 0 2h1a3 3 0 0 0 3-3V4Zm-2 2V4a1 1 0 0 0-1-1H4a1 1 0 0 0-1 1v2h18Z",clipRule:"evenodd"}),e.jsx("path",{d:"M13 22a1 1 0 1 1-2 0v-5.593L9.707 17.7a1 1 0 1 1-1.414-1.414l3-2.994a1 1 0 0 1 1.413.001l2.999 3a1 1 0 1 1-1.414 1.413L13 16.416V22Z"})]})}),F=()=>{const[a,s]=r.useState(!0),[l,x]=r.useState(null),[p,u]=r.useState(!0),[d,f]=r.useState(null);r.useEffect(()=>{(async()=>{try{const t=localStorage.getItem("userToken");if(!t)throw new Error("User is not authenticated. Token is missing.");const n=await fetch("https://test.ffsdtravels.com/api/corporate/wallet",{method:"GET",headers:{"Content-Type":"application/json",Authorization:`Bearer ${t}`}});if(!n.ok){const o=await n.text();throw new Error(`Error: ${n.status} - ${o}`)}const i=await n.json();if(i&&i.data&&typeof i.data.balance<"u"){const o=parseFloat(i.data.balance);if(isNaN(o))throw new Error("Balance value is not a valid number.");x(o)}else throw new Error("Balance field is missing or undefined in the response")}catch(t){f(t.message),console.error("Fetch balance error:",t)}finally{u(!1)}})()},[]);const m=()=>{s(h=>!h)};return e.jsxs("div",{className:"border-2 flex flex-col border-gray-400 shadow-lg px-4 py-2 rounded-lg w-[400px]",children:[e.jsxs("div",{className:"flex flex-col",children:[e.jsx("p",{className:"uppercase font-medium text-sm text-gray-800",children:"Current Balance"}),e.jsxs("div",{className:"flex gap-6 pl-4 mt-2 items-center text-gray-500 justify-between",children:[p?e.jsx("h1",{className:"uppercase italic font-semibold ",children:"Loading..."}):d?e.jsxs("h1",{className:"uppercase italic font-semibold text-red-500",children:["Error: ",d]}):e.jsxs("h1",{className:"uppercase italic font-semibold ",children:["₦ ",a&&l!==null?l.toFixed(2):"••••••••"]}),e.jsx("button",{onClick:m,"aria-label":"Toggle balance visibility",className:"focus:outline-none text-primaryRed",children:a?e.jsx(w,{size:35}):e.jsx(g,{size:35})})]})]}),e.jsxs("div",{className:"flex gap-10 mt-6 justify-center",children:[e.jsx(c,{ariaLabel:"Transfer",icon:e.jsx(v,{size:"30",stroke:"#FFFFFF"}),tooltip:"Transfer"}),e.jsx(c,{ariaLabel:"Withdraw",icon:e.jsx(b,{size:"30",stroke:"#FFFFFF"}),tooltip:"Withdraw"}),e.jsx(c,{ariaLabel:"Top Up",icon:e.jsx(j,{size:"30"}),tooltip:"Top Up"})]})]})},c=({ariaLabel:a,icon:s,tooltip:l})=>e.jsxs("div",{className:"relative group flex flex-col gap-1 items-center",children:[e.jsx("button",{"aria-label":a,className:"flex rounded-full h-[45px] w-[45px] bg-primaryRed items-center justify-center hover:scale-105 duration-300 shadow-md shadow-gray-300",children:s}),e.jsx("span",{className:"font-medium text-sm tracking-wider",children:l})]}),B=()=>e.jsx(e.Fragment,{children:e.jsx(F,{})});export{B as default};
